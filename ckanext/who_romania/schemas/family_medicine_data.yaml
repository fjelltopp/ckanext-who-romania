scheming_version: 2
dataset_type: family-medicine
name: Family Medicine
about: A dataset schema to collect data from WHO supported family medicine clinics. 
about_url: http://github.com/ckan/ckanext-scheming


dataset_fields:

- field_name: title
  template: Family Medicine Data {}
  validators: ignore_missing autogenerate
  template_args: ["month"]
  template_formatters: ["month_formatter"]
  classes: ["d-none"]
  default: Family Medicine Data
  label: Autogenerated Title

- field_name: name
  label: Autogenerated Name
  validators: autogenerate_name_from_title
  form_snippet: no_input.html

- field_name: month
  label: Month
  preset: month
  required: true

- field_name: notes
  label: Description
  form_snippet: markdown.html
  default: This is a dataset containing source data collected from family medicine doctors.

- field_name: maintainer
  label: Maintainer
  user_field: fullname
  form_snippet: user.html

- field_name: maintainer_email
  label: Maintainer Email
  user_field: email
  form_snippet: user.html
  display_snippet: email.html

- field_name: owner_org
  label: Organization
  preset: dataset_organization

- field_name: program_area
  preset: preset_value
  default: Family Medicine
  label: Program Area

- field_name: private
  preset: preset_value
  display_snippet: null
  default: true


resource_fields:

- field_name: name
  template: "{} Weekly Report Ending {}"
  validators: ignore_missing autogenerate
  template_args: ["family_doctor", "week"]
  classes: ["d-none"]
  default: Family Medicine Data
  label: Autogenerated Name

- field_name: week
  label: Week Ending
  form_snippet: week.html

- field_name: family_doctor
  label: Family Doctor
  preset: select
  choices:
  - value: SERBAN
    label: Serban
  - value: NECULAU
    label: Neculau
  - value: BETCU
    label: Betcu
  - value: DUMITRESCU
    label: Dumitrescu
  - value: LACATUS
    label: Lacatus
  - value: CAMENCEAN
    label: Camencean
  - value: CRISTIAN
    label: Cristian


- field_name: description
  label: Description
  form_snippet: markdown.html
  form_placeholder: Some optional useful notes about the data

- field_name: format
  label: Format
  preset: resource_format_autocomplete
